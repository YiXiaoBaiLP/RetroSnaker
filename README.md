# RetroSnaker
俄罗斯方块（JS版本）

### 第一步: 初始化布局
1. 初始化游戏
  1.1. 使用 `Game.js` 文件来实现（通过IIFE包裹起来，主要用于隔离）
2. 设置好表格，背景色等基本内容

### 设置游戏中的方块形状

2.1 认识方块，如何渲染方块 
 2.1.1  认识方块的状态，下落的方块形态一共有7中，每一种又有不同的状态（方向） 
` S、Z、J、L、O、T、I`
这些状态都可以使用 4*4 的一个矩阵来表示 
./image/Z_1.png 
2.2 方块的表示 
  2.2.1 我们可以使用二维数组来表示俄罗斯方块的状态 

2.5 地图类
  我们需要一个地图，来显示已经到底的方块，此时我们的表格只是一个显示的dom，没有办法实事进行显示，因为每一帧要清除画布，所以想要持久，就需要让数据持久起来，所以我们维护一个地图类，用来持久已经到底的方块

2.6 方块的下落状态
此时我们的方块下落很简单，就是给 Block.row++就可以了，但是怎么停止？

此时我们提出了一个“预判断”的概念，也就是每一次方块下落的时候需要进行一次预先判断，当前方块的下一次运动位置和地图的（mapCode）进行位置判断，如果此时mapCode在相同的位置也有方块存在，则停止下落。

2.7 渲染地图
当我们的方块到底之后，不会渲染当前的状态，只会消失，因为是mapCode一直维护底部的持久状态，所以一旦方块到底后，就要将给mapCode进行持久更新。

2.8 方块的左右移动
其实就是增加事件监听，然后通过check方法预判断是否有能力移动
